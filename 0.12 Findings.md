I will use this document to explain everything i tried in 0.12 and ended up not implementing.

# Attempt 1

## Document

At first i tried to change the current `JSONDocument` and `HASHDocument` to inherit all of the constructor building and common methods, ex:

```ts
abstract class Document {
    constructor(schema, ...) {
        this.#schema = schema
        ...
    }

    #populate() { ... }

    abstract toString(): string

    public get $id() {...}
    // etc...
}

class JSONDocument extends Document { ... }
```

This lead to huge performance issues, this simple change made the `Time per Request` jump from `0.2ms` to almost `0.4ms` which lead to more than `30ms` increase in **batch** requests for 1000 documents.

# Attempt 2

## Parsing to search strings

The new method **reduces** the amount of loops needed from 2 to 1, however doing this increases the model creation time by `0.1ms` but has a big plus, it being that it **reduces the memory footprint** since before the schema was also saved on the map and passed around to the Search class every time. Now the only information passed around are 2 strings per field, its `type` and its `path`.